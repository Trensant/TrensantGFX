var tgw=function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=5)}([function(t,e,n){var r=n(1);"string"==typeof r&&(r=[[t.i,r,""]]);var a={hmr:!0};a.transform=void 0;n(3)(r,a);r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(2)(void 0),e.push([t.i,".d3RadialTreelink {\r\n\tfill: none;\r\n\tstroke: #ccc;\r\n\topacity: 0.9;\r\n\tstroke-width: 1.5px;\r\n}\r\n.d3RadialTreeNode circle {\r\n\tstroke: #fff;\r\n\topacity: 0.9;\r\n\tstroke-width: 1.5px;\r\n}\r\n.d3RadialTreeNode:not(:hover) .d3RadialTreeNodeText {\r\n\tdisplay: none;\r\n}\r\n\r\n/*=============================*/\r\n.d3ChordGroupTick line {\r\n\tstroke: #000;\r\n}\r\n\r\n.d3ChordOfficeLabel {\r\n\tfont-size: 25px;\r\n\tfont-family: sans-serif;\r\n\ttext-anchor: middle;\r\n}\r\n\r\n.d3ChordRibbons {\r\n\tfill-opacity: 0.6;\r\n}\r\n/*===============================*/\r\n.dpath {\r\n\tstroke: #fff;\r\n}\r\n\r\n/*===============================*/\r\n.d3Counties {\r\n\tfill: none;\r\n}\r\n\r\n.d3States {\r\n\tfill: none;\r\n\tstroke: #fff;\r\n\tstroke-linejoin: round;\r\n}\r\n\r\n.d3ChoroplethLegend {font-size: 12px;}\r\n\r\n/*=====================================*/\r\n.d3radarLegend {\r\n\tfont-family: 'Raleway', sans-serif;\r\n\t\t\t\tfill: #333333;\r\n}\r\n\r\n.d3radartooltip { fill: #333333;\r\n\t\r\n}\r\n",""])},function(t,e){function n(t,e){var n=t[1]||"",a=t[3];if(!a)return n;if(e&&"function"==typeof btoa){var i=r(a);return[n].concat(a.sources.map(function(t){return"/*# sourceURL="+a.sourceRoot+t+" */"})).concat([i]).join("\n")}return[n].join("\n")}function r(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=n(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},a=0;a<this.length;a++){var i=this[a][0];"number"==typeof i&&(r[i]=!0)}for(a=0;a<t.length;a++){var o=t[a];"number"==typeof o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),e.push(o))}},e}},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],a=g[r.id];if(a){a.refs++;for(var i=0;i<a.parts.length;i++)a.parts[i](r.parts[i]);for(;i<r.parts.length;i++)a.parts.push(c(r.parts[i],e))}else{for(var o=[],i=0;i<r.parts.length;i++)o.push(c(r.parts[i],e));g[r.id]={id:r.id,refs:1,parts:o}}}}function a(t,e){for(var n=[],r={},a=0;a<t.length;a++){var i=t[a],o=e.base?i[0]+e.base:i[0],l=i[1],s=i[2],u=i[3],c={css:l,media:s,sourceMap:u};r[o]?r[o].parts.push(c):n.push(r[o]={id:o,parts:[c]})}return n}function i(t,e){var n=v(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=x[x.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),x.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var a=v(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,a)}}function o(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=x.indexOf(t);e>=0&&x.splice(e,1)}function l(t){var e=document.createElement("style");return t.attrs.type="text/css",u(e,t.attrs),i(t,e),e}function s(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",u(e,t.attrs),i(t,e),e}function u(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function c(t,e){var n,r,a,i;if(e.transform&&t.css){if(!(i=e.transform(t.css)))return function(){};t.css=i}if(e.singleton){var u=m++;n=y||(y=l(e)),r=f.bind(null,n,u,!1),a=f.bind(null,n,u,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(e),r=p.bind(null,n,e),a=function(){o(n),n.href&&URL.revokeObjectURL(n.href)}):(n=l(e),r=d.bind(null,n),a=function(){o(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else a()}}function f(t,e,n,r){var a=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=C(e,a);else{var i=document.createTextNode(a),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(i,o[e]):t.appendChild(i)}}function d(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function p(t,e,n){var r=n.css,a=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&a;(e.convertToAbsoluteUrls||i)&&(r=w(r)),a&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var o=new Blob([r],{type:"text/css"}),l=t.href;t.href=URL.createObjectURL(o),l&&URL.revokeObjectURL(l)}var g={},h=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),v=function(t){var e={};return function(n){if(void 0===e[n]){var r=t.call(this,n);if(r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[n]=r}return e[n]}}(function(t){return document.querySelector(t)}),y=null,m=0,x=[],w=n(4);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=h()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=a(t,e);return r(n,e),function(t){for(var i=[],o=0;o<n.length;o++){var l=n[o],s=g[l.id];s.refs--,i.push(s)}if(t){r(a(t,e),e)}for(var o=0;o<i.length;o++){var s=i[o];if(0===s.refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete g[s.id]}}}};var C=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var a=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(a))return t;var i;return i=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:r+a.replace(/^\.\//,""),"url("+JSON.stringify(i)+")"})}},function(t,e,n){n(0);var r=function(t){return void 0===t?"undefined":{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()};t.exports.typeOf=r;var i=function(t,e){return e="number"==r(e)?Math.pow(10,Math.round(e)):100,Math.round(t*e)/e};t.exports.roundNum=i,t.exports.constrain=function(t,e,n){return n<e&&(a=e,e=n,n=a),t<=e&&(t=e),t>=n&&(t=n),t};var o=function(t,e,n,r,a,i,o){if(i=void 0!==i&&i,o="number"==typeof o&&o,e==n)return t;if(o){var l=(t-(n+e)/2)/(n-e)*o;t=(a-r)*(1/(1+Math.exp(-l)))+r}else t=(t-e)/(n-e)*(a-r)+r;return 0!=i&&(t=tgw.constrain(t,r,a)),t};t.exports.mapScaleEXP=o;var l=function(t){return{wid:$("#"+t).width(),hgt:$("#"+t).height()}};t.exports.containerDims=l,t.exports.setIntervalX=function(t,e,n){var r=0,a=window.setInterval(function(){t(r),++r>=n&&window.clearInterval(a)},e)},t.exports.repeatUntil=function(t,e,n,r,a,i){var o=0;if("function"!=typeof t)return"err";"number"!=typeof r&&(r=250),"number"!=typeof a&&(a=1);var l=t,s="function"==typeof e?e:function(){},u="function"==typeof n?n:function(){},c="function"==typeof i?i:function(){},f=function(){var t=l();1==t?(s(),c(!0,o)):(u(),o>=a?c(t,o):(o++,window.setTimeout(f,r)))};f()},t.exports.tgPrettyPrint=function(t,e,n){var a,i,o=t,l={tag:"pre",class:"",style:"border:none"};if("object"==r(n))for(a in n)l[a]=n[a];var s=""==l.class?"":' class="'+l.class+'" ',u=""==l.style?"":' style="'+l.style+'" ';return i="<"+l.tag+s+u+" >"+function(t){return t=JSON.stringify(t,void 0,2),"string"!=typeof t&&(t=JSON.stringify(t,void 0,2)),t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),t.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(t){var e="color:red";return/^"/.test(t)?e=/:$/.test(t)?"color:blue":"color:green":/true|false/.test(t)?e="magenta":/null/.test(t)&&(e="darkgrey"),'<span style="'+e+'">'+t+"</span>"})}(o)+"</"+l.tag+">",document.getElementById(e).innerHTML=i,document.getElementById(e)},t.exports.tgDrawRowWordCloudBase=function(t,e,n){var r,a={maxSize:55,minSize:9,sizeUnits:"px",sort:"none",spacer:"&nbsp; &nbsp;",wclass:"",sortIgnore1stChars:["@","#","$"],scale:1,onClick:function(){}};if("object"==typeof n)for(r in n)a[r]=n[r];if(!(t.length<1)){var i=t.map(function(t){var e="inherit";return e="string"==typeof t[2]?t[2]:e,[t[0],t[1],e]}),l=i[0][1],s=i[0][1];for(r=0;r<i.length;r++)l=i[r][1]>l?i[r][1]:l,s=i[r][1]<s?i[r][1]:s;l-s<2&&(s--,l++);var u=function(t,e){return!0},c=function(t){return-1==a.sortIgnore1stChars.indexOf(t[0])?t:t.substr(1,t.length)};switch(a.sort){case"alpha":u=function(t,e){return c(t[0])==c(e[0])?0:c(t[0])>c(e[0])?1:-1};break;case"ralpha":u=function(t,e){return c(t[0])==c(e[0])?0:c(t[0])<c(e[0])?1:-1};break;case"up":u=function(t,e){return e[1]-t[1]};break;case"down":u=function(t,e){return t[1]-e[1]}}i.sort(u);var f=i.map(function(t){return"<span "+(""==a.wclass?"":"class='"+a.wclass+"'")+"style='color:"+t[2]+"; font-size:"+o(t[1],s,l,a.minSize,a.maxSize,a.scale)+a.sizeUnits+"'>"+t[0]+"</span>"}).join(a.spacer);return"string"==typeof e?(document.getElementById(e).innerHTML=f,document.getElementById(e)):f}},t.exports.tgDrawRowWordCloud=function(e,n,r){t.exports.tgDrawRowWordCloudBase(e,n,r);for(var a=20,i=$("#"+n+" > span")[0].getClientRects()[0],o=$("#"+n+" > span")[$("#"+n+" > span").length-1].getClientRects()[0],l=$("#"+n)[0].getClientRects()[0];o.bottom<=l.bottom-.085*l.height&&(i=$("#"+n+" > span")[0].getClientRects()[0],o=$("#"+n+" > span")[$("#"+n+" > span").length-1].getClientRects()[0],gTemp={rs:i,re:o},a+=.33,t.exports.tgDrawRowWordCloudBase(e,n,r),!(a>100)););a-=.67,t.exports.tgDrawRowWordCloudBase(e,n,r)},t.exports.gglChartsLoaded=function(){return"undefined"!=typeof google&&void 0!==google.visualization&&("function"==tgw.typeOf(google.visualization.arrayToDataTable)&&("function"==tgw.typeOf(google.visualization.PieChart)&&"function"==tgw.typeOf(google.visualization.LineChart)))},t.exports.gglDrawTable=function(t,e,n,a){if("function"==typeof google.visualization.Table){var i,o={showRowNumber:!0,width:"80%",height:"120px",allowHTML:!0};if("object"==r(a))for(i in a)o[i]=a[i];if(""!=t){var l,s=new google.visualization.DataTable;for(l=0;l<e.length;l++)s.addColumn(e[l][0],e[l][1]);s.addRows(t);var u=new google.visualization.Table(document.getElementById(n));return u.draw(s,o),u}$("#"+n).html("")}return!1},t.exports.gglDrawPieChart=function(t,e,n){if("function"==typeof google.visualization.PieChart){var r,a=google.visualization.arrayToDataTable(t),i={titleTextStyle:{fontSize:16},height:"100%",width:"100%",chartArea:{width:"75%",height:"75%"}};if("object"==typeof n)for(var r in n)i[r]=n[r];var o=new google.visualization.PieChart(document.getElementById(e),i);return o.draw(a,i),o}return!1},t.exports.gglDrawLineChart=function(t,e,n){if("function"==typeof google.visualization.LineChart){var a=google.visualization.arrayToDataTable(t),i={titleTextStyle:{fontSize:16},hAxis:{maxAlternation:2},chartArea:{width:"65%",height:"65%"}};if("object"==r(n))for(var o in n)i[o]=n[o];var l=new google.visualization.LineChart(document.getElementById(e));return l.draw(a,i),l}return!1},t.exports.gglDrawBarChart=function(t,e,n){if("function"==typeof google.visualization.BarChart){var r=google.visualization.arrayToDataTable(t),a={titleTextStyle:{fontSize:16},hAxis:{maxAlternation:2},bar:{groupWidth:"80%"},height:32*t.length,width:l(e).wid};if("object"==typeof n)for(var i in n)a[i]=n[i];var o=new google.visualization.BarChart(document.getElementById(e));return o.draw(r,a),o}return!1},t.exports.gglDrawHistogram=function(t,e,n){if("function"==typeof google.visualization.Histogram){var a={titleTextStyle:{fontSize:16},hAxis:{maxAlternation:2},legend:{position:"none"}},i=google.visualization.arrayToDataTable(t);if("object"==r(opts))for(var o in opts)a[o]=opts[o];var l=new google.visualization.Histogram(document.getElementById(e));return l.draw(i,a),l}return!1},t.exports.d3ChartsLoaded=function(){return"undefined"!=typeof d3},t.exports.d3TreeMap=function(t,e,n){function r(){if(cell=h.selectAll("g").data(x[treeMapConfiguration.children]).enter().append("g").attr("transform",function(t){return"translate("+t.x0+","+t.y0+")"}),cell.append("rect").attr("id",function(t){return t.data.id}).attr("width",function(t){return t.x1-t.x0}).attr("height",function(t){return t.y1-t.y0}).attr("fill",function(t){return f(t.data[treeMapConfiguration.value])}).on("click",function(t){C(t),t.data[treeMapConfiguration.children]&&w.append("a").attr("href","javascript:void(0)").html("  :  "+x.data.child_name).on("click",function(){b(x.data[treeMapConfiguration.parentID])})}),treeMapConfiguration&&"rectangleBehavior"in treeMapConfiguration)for(var t in treeMapConfiguration.rectangleBehavior)cell.on(t,function(e){treeMapConfiguration.rectangleBehavior[t](e,treeMapConfiguration.rectangleBehaviorOptions)});cell.append("clipPath").attr("id",function(t){return"clip-"+t.data.id}).append("use").attr("xlink:href",function(t){return"#"+t.data.id}),cell.append("text").attr("clip-path",function(t){return"url(#clip-"+t.data.id+")"}).selectAll("tspan").data(function(t){return t.data[treeMapConfiguration.childName].split(/(?=[A-Z][^A-Z])/g)}).enter().append("tspan").attr("x",4).attr("y",function(t,e){return 13+10*e}).text(function(t){return t}),cell.append("title").text(function(t){return t.data.id+"\n"+d(t.value)})}function a(t,e,n){y(x.sum(t)),cell.transition().duration(150).attr("transform",function(t){return"translate("+t.x0+","+t.y0+")"}).select("rect").attr("width",function(t){return t.x1-t.x0}).attr("height",function(t){return t.y1-t.y0})}function i(t){return t.children?0:1}function o(t){return t.child_buzz}function l(t,e){if(child_id=e.data.child_id,parent_id=e.data.parent_id,t.node.child_id==parent_id)if("children"in t)for(var n in t.children)t.children[n].node!=e.data&&t.children.push({node:e.data});else t.children=[],t.children.push({node:e.data});else for(var n in t.children)l(t.children[n],e)}function s(t,e){if(t.node.child_id==e)return t.node;for(var n in t.children)x=s(t.children[n],e);return x}var u={parentID:"parentID",childID:"childID",childName:"childName",children:"children",value:"value",svgWidth:tgw.containerDims(e).wid,svgHeight:tgw.containerDims(e).hgt,fader:.5,rectangleBehavior:null,rectangleBehaviorOptions:null,svgBehavior:null,svgBehaviorOptions:null};treeMapConfiguration=function(t,e){if(e)for(var n in e)Object.keys(t).indexOf(n)>-1||console.warn(n+" is not a default setting."),t[n]=e[n];return t}(u,n);var c=function(t){return d3.interpolateRgb(t,"#fff")(treeMapConfiguration.fader)},f=d3.scaleOrdinal(d3.schemeCategory20.map(c)),d=d3.format(",d"),p="function"==typeof treeMapConfiguration.svgWidth?treeMapConfiguration.svgWidth():treeMapConfiguration.svgWidth,g="function"==typeof treeMapConfiguration.svgHeight?treeMapConfiguration.svgHeight():treeMapConfiguration.svgHeight;d3.select("#"+e).append("p").classed("parent",!0),d3.select("#"+e).append("svg");var h=d3.select("#"+e).select("svg").attr("width",p).attr("height",g).style("font","10px sans-serif");if("svgBehavior"in treeMapConfiguration)for(var v in treeMapConfiguration.svgBehavior)h.on(v,function(){treeMapConfiguration.svgBehavior[v](treeMapConfiguration.svgBehaviorOptions)});var y=d3.treemap().size([p,g]).round(!0).paddingInner(1),m=t,x=d3.hierarchy(t.node);x.eachBefore(function(t){t.data.id=t.data[treeMapConfiguration.childID]}).sum(function(t){return t[treeMapConfiguration.value]}).sort(function(t,e){return e.value-t.value||e.value-t.value}),y(x);var w=d3.select(".parent");w.html(function(){return x.data[treeMapConfiguration.childName]}),r(),d3.selectAll("input").data([o,i],function(t){return t?t.name:this.value}).on("change",a);var C=function(t){t.children&&(x=d3.hierarchy(t.data),x.eachBefore(function(t){t.data.id=t.data[treeMapConfiguration.childID]}).sum(function(t){return t[treeMapConfiguration.value]}).sort(function(t,e){return e.value-t.value||e.value-t.value}),y(x),h.selectAll("g").remove(),r(),l(m,t))},b=function(t){var e=d3.selectAll(".parent a")._groups[0].length;d3.selectAll(".parent a").filter(function(t,n){if(1==e)return 1;for(n<e;n++;)if(n==e)return n}).remove();void 0!==t&&(x=s(m,t),x=d3.hierarchy(x),x.eachBefore(function(t){t.data.id=t.data[treeMapConfiguration.childID]}).sum(function(t){return t[treeMapConfiguration.value]}).sort(function(t,e){return e.value-t.value||e.value-t.value}),y(x),h.selectAll("g").remove(),r())}},t.exports.d3RadialTree=function(t,e,n){function r(t){f=w(f),u=w(f).descendants(),c=u.slice(1);var e,r;u.forEach(function(t){t.y=t.depth*y/6}),d=b.selectAll(".d3RadialTreeNode").data(u,function(t){return t.id||(t.id=++x)}),d.exit().remove();var s=d.enter().append("g").attr("class","d3RadialTreeNode").attr("transform",function(t){return"translate("+o(t.x,t.y)+")"});s.append("circle").attr("r",5).style("fill",i).on("click",a),s.append("text").attr("dy",".31em").attr("x",function(t){return t.x<180==!t.children?6:-6}).style("text-anchor",function(t){return t.x<180==!t.children?"start":"end"}).attr("transform",function(t){return"rotate("+(t.x<180?t.x-90:t.x-270)+")"}).text(function(t){return t.parent?t[radialTreeConfiguration.name]:null}).on(n&&n.textClick?n.textClick:"click",n.onClick);var e=d.merge(s).transition().duration(m).attr("transform",function(t){return"translate("+o(t.x,t.y)+")"});d.select("circle").style("fill",i),e.select("text").style("fill-opacity",1).attr("transform",function(t){return"rotate("+(t.x<180?t.x-90:t.x-270)+")"});var r=d.exit().transition().duration(m).attr("transform",function(e){return"translate("+t.y+","+t.x+")"}).remove();r.select("circle").attr("r",1e-6),r.select("text").style("fill-opacity",1e-6),u.forEach(function(t){t.x0=t.x,t.y0=t.y}),p=b.selectAll(".d3RadialTreelink").data(c,function(t){return t.id+"->"+t.parent.id}),p.transition().duration(m),g=p.enter().insert("path","g").attr("class","d3RadialTreelink").attr("d",function(t){return"M"+o(t.x,t.y)+"C"+o(t.x,(t.y+t.parent.y)/2)+" "+o(t.parent.x,(t.y+t.parent.y)/2)+" "+o(t.parent.x,t.parent.y)}),p.merge(g).transition().duration(m).attr("d",l),p.exit().transition().duration(m).attr("d",function(t){return"M"+o(t.x,t.y)+"C"+o(t.x,(t.y+t.parent.y)/2)+" "+o(t.parent.x,(t.y+t.parent.y)/2)+" "+o(t.parent.x,t.parent.y)}).remove()}function a(t){if(t.children)t._children=t.children,t.children=null;else{if(!t._children)return null;t.children=t._children,t._children=null}r(t)}function i(t){return t._children?"#3182bd":t.children?"#c6dbef":"#fd8d3c"}function o(t,e){var n=(t-90)/180*Math.PI,r=e;return[r*Math.cos(n),r*Math.sin(n)]}function l(t){return"M"+o(t.x,t.y)+"C"+o(t.x,(t.y+t.parent.y)/2)+" "+o(t.parent.x,(t.y+t.parent.y)/2)+" "+o(t.parent.x,t.parent.y)}var s={name:"name",children:"children",svgWidth:tgw.containerDims(e).wid,svgHeight:tgw.containerDims(e).hgt,diameter:tgw.containerDims(e).wid/2,duration:750};radialTreeConfiguration=function(t,e){if(e)for(var n in e)Object.keys(t).indexOf(n)>-1||console.warn(n+" is not a default setting."),t[n]=e[n];return t}(s,n),void 0===n&&(n={});var u,c,f,d,p,g,h="function"==typeof radialTreeConfiguration.svgWidth?radialTreeConfiguration.svgWidth():radialTreeConfiguration.svgWidth,v="function"==typeof radialTreeConfiguration.svgHeight?radialTreeConfiguration.svgHeight():radialTreeConfiguration.svgHeight,y=.9*Math.min(h,v)-75,m=radialTreeConfiguration.duration,x=0,w=d3.tree().size([360,y/2]).separation(function(t,e){return(t.parent==e.parent?1:2)/t.depth}),C=d3.select("#"+e).append("svg").attr("width",h).attr("height",v),b=C.append("g").attr("transform","translate("+h/2+","+v/2+")");f=d3.hierarchy(t,function(t){return t[radialTreeConfiguration.children]}),f.each(function(t){t.name=t.data[radialTreeConfiguration.name],t.id=x,x+=x}),f.x0=v/2,f.y0=0,r(f)},t.exports.d3Chord=function(t,e,n){function r(t){return function(e,n){x.filter(function(t){return t.source.index!=n&&t.target.index!=n}).transition().style("opacity",t)}}function a(t,e){var n=(t.endAngle-t.startAngle)/t.value;return d3.range(0,t.value,e).map(function(e){return{value:e,angle:e*n+t.startAngle}})}function i(e){var n=(d3.format(".2%"),d3.formatPrefix("$,.2",1e3));return"Flow Info:\n"+t.groups[e.source.index]+" → "+t.groups[e.target.index]+": "+n(e.target.value)+"\n"+t.groups[e.target.index]+" → "+t.groups[e.source.index]+": "+n(e.source.value)}function o(e){var n=d3.formatPrefix("$,.2",1e3);return"Total Managed by "+t.groups[e.index]+":\n"+n(e.value)}var l={svgWidth:tgw.containerDims(e).wid,svgHeight:tgw.containerDims(e).hgt};chordConfiguration=function(t,e){if(e)for(var n in e)Object.keys(t).indexOf(n)>-1||console.warn(n+" is not a default setting."),t[n]=e[n];return t}(l,n);var s="function"==typeof chordConfiguration.svgWidth?chordConfiguration.svgWidth():chordConfiguration.svgWidth,u="function"==typeof chordConfiguration.svgHeight?chordConfiguration.svgHeight():chordConfiguration.svgHeight,c=d3.select("#"+e).append("svg").attr("width",chordConfiguration.svgWidth).attr("height",chordConfiguration.svgHeight),s=+c.attr("width"),u=+c.attr("height"),f=.5*Math.min(s,u),d=f-20,p=d3.chord().padAngle(.05).sortSubgroups(d3.descending),g=d3.arc().innerRadius(d).outerRadius(f),h=d3.ribbon().radius(d),v=d3.scaleOrdinal(d3.schemeCategory10),y=c.append("g").attr("transform","translate("+s/2+","+u/2+")").datum(p(t.matrix)),m=y.append("g").attr("class","groups").selectAll("g").data(function(t){return t.groups}).enter().append("g");m.append("path").style("fill",function(t){return v(t.index)}).style("stroke",function(t){return d3.rgb(v(t.index)).darker()}).attr("d",g).on("mouseover",r(.1)).on("mouseout",r(1)),m.append("title").text(function(t){return o(t)}),m.append("text").attr("dy",".35em").attr("class","d3ChordOfficeLabel").attr("transform",function(e,n){return e.angle=(e.startAngle+e.endAngle)/2,e.name=t.groups[n],"rotate("+180*e.angle/Math.PI+")translate(0,"+-1.1*(f+10)+")"+(e.angle>3*Math.PI/4&&e.angle<5*Math.PI/4?"rotate(180)":"")}).text(function(t){return t.name});var x=y.append("g").attr("class","d3ChordRibbons").selectAll("path").data(function(t){return t}).enter().append("path").attr("d",h).style("fill",function(t){return v(t.target.index)}).style("stroke",function(t){return d3.rgb(v(t.target.index)).darker()});x.append("title").text(function(t){return i(t)});var w=m.selectAll(".d3ChordGroupTick").data(function(t){return a(t,1e3)}).enter().append("g").attr("class","group-tick").attr("transform",function(t){return"rotate("+(180*t.angle/Math.PI-90)+") translate("+f+",0)"});w.append("line").attr("x2",6),w.filter(function(t){return t.value%2e3==0}).append("text").attr("x",8).attr("dy",".35em").attr("transform",function(t){return t.angle>Math.PI?"rotate(180) translate(-16)":null}).style("text-anchor",function(t){return t.angle>Math.PI?"end":null}).text(function(t){return t.value})},t.exports.d3ZoomableSunburst=function(t,e,n){function r(t){g.transition().duration(750).tween("scale",function(){var e=d3.interpolate(u.domain(),[t.x0,t.x1]),n=d3.interpolate(c.domain(),[t.y0,1]),r=d3.interpolate(c.range(),[t.y0?20:0,l]);return function(t){u.domain(e(t)),c.domain(n(t)).range(r(t))}}).selectAll("path").attrTween("d",function(t){return function(){return p(t)}})}var a={children:"children",value:"value",name:"name",svgWidth:tgw.containerDims(e).wid,svgHeight:tgw.containerDims(e).hgt};sunburstConfiguration=function(t,e){if(e)for(var n in e)Object.keys(t).indexOf(n)>-1||console.warn(n+" is not a default setting."),t[n]=e[n];return t}(a,n);var i=sunburstConfiguration.svgWidth,o=sunburstConfiguration.svgHeight,l=Math.min(i,o)/2-10,s=d3.format(",d"),u=d3.scaleLinear().range([0,2*Math.PI]),c=d3.scaleSqrt().range([0,l]),f=d3.scaleOrdinal(d3.schemeCategory20),d=d3.partition(),p=d3.arc().startAngle(function(t){return Math.max(0,Math.min(2*Math.PI,u(t.x0)))}).endAngle(function(t){return Math.max(0,Math.min(2*Math.PI,u(t.x1)))}).innerRadius(function(t){return Math.max(0,c(t.y0))}).outerRadius(function(t){return Math.max(0,c(t.y1))}),g=d3.select("#"+e).append("svg").attr("width",i).attr("height",o).append("g").attr("transform","translate("+i/2+","+o/2+")");root=d3.hierarchy(t),root.sum(function(t){return t[sunburstConfiguration.value]}),g.selectAll("g").data(d(root).descendants()).enter().append("path").attr("d",p).style("fill",function(t){return f((t.children?t:t.parent).data[sunburstConfiguration.name])}).on("click",r).append("title").text(function(t){return t.data[sunburstConfiguration.name]+"\n"+s(t.value)}),d3.select(self.frameElement).style("height",o+"px")},t.exports.d3Bubble=function(t,e,n){var r={children:"children",value:"value",id:"id",svgWidth:tgw.containerDims(e).wid,svgHeight:tgw.containerDims(e).hgt},a=function(t,e){if(e)for(var n in e)Object.keys(t).indexOf(n)>-1||console.warn(n+" is not a default setting."),t[n]=e[n];return t}(r,n),i=a.svgWidth,o=a.svgHeight,l=d3.select("#"+e).append("svg").attr("width",i).attr("height",o).attr("text-anchor","middle").attr("font-size",10),s=d3.format(",d"),u=d3.scaleOrdinal(d3.schemeCategory20c),c=d3.pack().size([i,o]).padding(1.5),f=d3.hierarchy(t).sum(function(t){return t[a.value]}).each(function(t){if(e=t.data[a.id]){var e,n=e.lastIndexOf(".");t.id=e,t.package=e.slice(0,n),t.class=e.slice(n+1)}}),d=l.selectAll(".node").data(c(f).leaves()).enter().append("g").attr("class","node").attr("transform",function(t){return"translate("+t.x+","+t.y+")"});d.append("circle").attr("id",function(t){return t.id}).attr("r",function(t){return t.r}).style("fill",function(t){return u(t.package)}),d.append("clipPath").attr("id",function(t){return"clip-"+t.id}).append("use").attr("xlink:href",function(t){return"#"+t.id}),d.append("text").attr("clip-path",function(t){return"url(#clip-"+t.id+")"}).selectAll("tspan").data(function(t){return t.data[a.id].split(/(?=[A-Z][^A-Z])/g)}).enter().append("tspan").attr("x",0).attr("y",function(t,e,n){return 13+10*(e-n.length/2-.5)}).text(function(t){return t}),d.append("title").text(function(t){return t.id+"\n"+s(t[a.value])})},t.exports.wordCloud2js=function(t,e,n){var r=document.getElementById(e),a=document.createElement("canvas");r.appendChild(a),a.height=r.offsetHeight,a.width=r.offsetWidth,n={list:t.map(function(t){return[t.word,2.2*t.word.length+4]}).sort(function(t,e){return e[1]-t[1]}).splice(0,n.maxWords),gridSize:Math.round(Math.log(35-t.length)*a.width/32),fontFamily:"Lato",clearCanvas:!0,maxWords:30,origin:[a.width/2,a.height/3],backgroundColor:"#fff"},WordCloud(a,n)},t.exports.d3WordCloud=function(t,e,n){function r(t){return t.text}function a(){return"serif"}function i(){return"normal"}function o(t){return Math.sqrt(t.value)}function l(){return 30*(~~(6*Math.random())-3)}function s(){return 1}function u(t,e,n,r){if(!e.sprite){var a=t.context,i=t.ratio;a.clearRect(0,0,(C<<5)/i,b/i);var o=0,l=0,s=0,u=n.length;for(--r;++r<u;){e=n[r],a.save(),a.font=e.style+" "+e.weight+" "+~~((e.size+1)/i)+"px "+e.font;var c=a.measureText(e.text+"m").width*i,f=e.size<<1;if(e.rotate){var d=Math.sin(e.rotate*w),p=Math.cos(e.rotate*w),g=c*p,h=c*d,v=f*p,y=f*d;c=Math.max(Math.abs(g+y),Math.abs(g-y))+31>>5<<5,f=~~Math.max(Math.abs(h+v),Math.abs(h-v))}else c=c+31>>5<<5;if(f>s&&(s=f),o+c>=C<<5&&(o=0,l+=s,s=0),l+f>=b)break;a.translate((o+(c>>1))/i,(l+(f>>1))/i),e.rotate&&a.rotate(e.rotate*w),a.fillText(e.text,0,0),e.padding&&(a.lineWidth=2*e.padding,a.strokeText(e.text,0,0)),a.restore(),e.width=c,e.height=f,e.xoff=o,e.yoff=l,e.x1=c>>1,e.y1=f>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,o+=c}for(var m=a.getImageData(0,0,(C<<5)/i,b/i).data,x=[];--r>=0;)if(e=n[r],e.hasText){for(var c=e.width,M=c>>5,f=e.y1-e.y0,A=0;A<f*M;A++)x[A]=0;if(null==(o=e.xoff))return;l=e.yoff;for(var k=0,T=-1,O=0;O<f;O++){for(var A=0;A<c;A++){var z=M*O+(A>>5),I=m[(l+O)*(C<<5)+(o+A)<<2]?1<<31-A%32:0;x[z]|=I,k|=I}k?T=O:(e.y0++,f--,O--,l++)}e.y1=e.y0+T,e.sprite=x.slice(0,(e.y1-e.y0)*M)}}}function c(t,e,n){n>>=5;for(var r,a=t.sprite,i=t.width>>5,o=t.x-(i<<4),l=127&o,s=32-l,u=t.y1-t.y0,c=(t.y+t.y0)*n+(o>>5),f=0;f<u;f++){r=0;for(var d=0;d<=i;d++)if((r<<s|(d<i?(r=a[f*i+d])>>>l:0))&e[c+d])return!0;c+=n}return!1}function f(t,e){var n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function d(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function p(t){var e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function g(t){var e=4*t[0]/t[1],n=0,r=0;return function(t){var a=t<0?-1:1;switch(Math.sqrt(1+4*a*t)-a&3){case 0:n+=e;break;case 1:r+=4;break;case 2:n-=e;break;default:r-=4}return[n,r]}}function h(t){for(var e=[],n=-1;++n<t;)e[n]=0;return e}function v(){return document.createElement("canvas")}function y(t){return"function"==typeof t?t:function(){return t}}function m(t){d3.select("#"+e).append("svg").attr("width",O.size()[0]).attr("height",O.size()[1]).append("g").attr("transform","translate("+O.size()[0]/2+","+O.size()[1]/2+")").selectAll("text").data(t).enter().append("text").style("font-size",function(t){return t.size+"px"}).style("font-family","Impact").style("fill",function(t,e){return T(e)}).attr("text-anchor","middle").attr("transform",function(t){return"translate("+[t.x,t.y]+")rotate("+t.rotate+")"}).text(function(t){return t.text})}var x=d3.dispatch,w=Math.PI/180,C=64,b=2048;cloud=function(){function t(t){t.width=t.height=1;var e=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2);t.width=(C<<5)/e,t.height=b/e;var n=t.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:e}}function e(t,e,r){for(var a,i,o,l=(n[0],n[1],e.x),s=e.y,u=Math.sqrt(n[0]*n[0]+n[1]*n[1]),f=z(n),p=R()<.5?1:-1,g=-p;(a=f(g+=p))&&(i=~~a[0],o=~~a[1],!(Math.min(Math.abs(i),Math.abs(o))>=u));)if(e.x=l+i,e.y=s+o,!(e.x+e.x0<0||e.y+e.y0<0||e.x+e.x1>n[0]||e.y+e.y1>n[1])&&(!r||!c(e,t,n[0]))&&(!r||d(e,r))){for(var h,v=e.sprite,y=e.width>>5,m=n[0]>>5,x=e.x-(y<<4),w=127&x,C=32-w,b=e.y1-e.y0,M=(e.y+e.y0)*m+(x>>5),A=0;A<b;A++){h=0;for(var k=0;k<=y;k++)t[M+k]|=h<<C|(k<y?(h=v[A*y+k])>>>w:0);M+=m}return delete e.sprite,!0}return!1}var n=[256,256],g=r,m=a,w=o,A=i,k=i,T=l,O=s,z=p,I=[],P=1/0,D=x("word","end"),S=null,R=Math.random,B={},W=v;return B.canvas=function(t){return arguments.length?(W=y(t),B):W},B.start=function(){function r(){for(var t=Date.now();Date.now()-t<P&&++s<l&&S;){var r=d[s];r.x=n[0]*(R()+.5)>>1,r.y=n[1]*(R()+.5)>>1,u(a,r,d,s),r.hasText&&e(i,r,o)&&(c.push(r),D.call("word",B,r),o?f(o,r):o=[{x:r.x+r.x0,y:r.y+r.y0},{x:r.x+r.x1,y:r.y+r.y1}],r.x-=n[0]>>1,r.y-=n[1]>>1)}s>=l&&(B.stop(),D.call("end",B,c,o))}var a=t(W()),i=h((n[0]>>5)*n[1]),o=null,l=I.length,s=-1,c=[],d=I.map(function(t,e){return t.text=g.call(this,t,e),t.font=m.call(this,t,e),t.style=A.call(this,t,e),t.weight=k.call(this,t,e),t.rotate=T.call(this,t,e),t.size=~~w.call(this,t,e),t.padding=O.call(this,t,e),t}).sort(function(t,e){return e.size-t.size});return S&&clearInterval(S),S=setInterval(r,0),r(),B},B.stop=function(){return S&&(clearInterval(S),S=null),B},B.timeInterval=function(t){return arguments.length?(P=null==t?1/0:t,B):P},B.words=function(t){return arguments.length?(I=t,B):I},B.size=function(t){return arguments.length?(n=[+t[0],+t[1]],B):n},B.font=function(t){return arguments.length?(m=y(t),B):m},B.fontStyle=function(t){return arguments.length?(A=y(t),B):A},B.fontWeight=function(t){return arguments.length?(k=y(t),B):k},B.rotate=function(t){return arguments.length?(T=y(t),B):T},B.text=function(t){return arguments.length?(g=y(t),B):g},B.spiral=function(t){return arguments.length?(z=M[t]||t,B):z},B.fontSize=function(t){return arguments.length?(w=y(t),B):w},B.padding=function(t){return arguments.length?(O=y(t),B):O},B.random=function(t){return arguments.length?(R=t,B):R},B.on=function(){var t=D.on.apply(D,arguments);return t===D?B:t},B};var M={archimedean:p,rectangular:g},A={svgWidth:tgw.containerDims(e).wid,svgHeight:tgw.containerDims(e).hgt,font:"Impact",padding:5,fontWeight:"normal"},k=function(t,e){if(e)for(var n in e)Object.keys(t).indexOf(n)>-1||console.warn(n+" is not a default setting."),t[n]=e[n];return t}(A,n),T=d3.scaleOrdinal(d3.schemeCategory20),O=cloud().size([k.svgWidth,k.svgHeight]).words(t.map(function(t){return{text:t.value,size:t.count}})).padding(k.padding).font(k.font).fontSize(function(t){return t.size}).fontWeight(k.fontWeight).on("end",m);n&&"rotate"in n&&O.rotate(n.rotate),O.start()},t.exports.d3Choropleth=function(t,e,n){function r(t){return f={},t.height=Math.round(t.height_max),t.width=Math.round(t.width_max),f.height=t.height>c?c/t.height:t.height/c,f.width=t.width>u?u/t.width:t.width/u,f}function a(t){for(var e in t)"number"==typeof t[e]?(g.height_min=t[1]<g.height_min?t[1]:g.height_min,g.height_max=t[1]>g.height_max?t[1]:g.height_max,g.width_min=t[0]<g.width_min?t[0]:g.width_min,g.width_max=t[0]>g.width_max?t[0]:g.width_max):a(t[e])}function i(t,e){for(var n in t){if("number"==typeof t[n]){t[0]=(t[0]-g.width_min)*e.width,t[1]=(t[1]-g.height_min)*e.height;break}i(t[n],e)}}var o={value:"value",name:"name",svgWidth:tgw.containerDims(e).wid,svgHeight:tgw.containerDims(e).hgt,colorThresholds:[50,150,350,750,1500],colorScheme:["#adfcad","#ffcb40","#ffba00","#ff7d73","#ff4e40","#ff1300"],legendOn:!1,legendOrientation:"vertical",legendxPosition:0,legendyPosition:0,legendDomain:[10,50,150,350,750,1500],legendLabels:["< 50","50+","150+","350+","750+","> 1500"]},l=function(t,e){if(e)for(var n in e)Object.keys(t).indexOf(n)>-1||console.warn(n+" is not a default setting."),t[n]=e[n];return t}(o,n),s=d3.select("#"+e).append("svg"),u=l.svgWidth,c=l.svgHeight;s.attr("width",u).attr("height",c);var f,d=d3.geoPath(),p=d3.scaleThreshold().domain(l.colorThresholds).range(l.colorScheme),g={height_min:1e12,height_max:-1e12,width_min:1e12,width_max:-1e12};!function(t){s.append("g").attr("class","d3Counties").selectAll("path").data(function(){var e=topojson.feature(t,t.objects.states).features;for(var n in e)for(var o in e[n].geometry.coordinates)a(e[n].geometry.coordinates[o]);f=r(g);for(var n in e)for(var o in e[n].geometry.coordinates)i(e[n].geometry.coordinates[o],f);return e}).enter().append("path").attr("fill",function(t){return t.name=t.properties[l.name],t.value=t.properties[l.value],p(t.properties[l.value])}).attr("d",d).append("title").text(function(t){return t.name+","+t.value}),s.append("path").datum(function(){var e=topojson.mesh(t,t.objects.states,function(t,e){return t!==e});for(var n in e.coordinates)for(var r in e.coordinates[n])i(e.coordinates[n][r],f);return e}).attr("class","d3States").attr("d",d)}(t);var h=l.legendDomain,v=l.legendLabels;if(l.legendOn){var y=s.selectAll("g.d3ChoroplethLegend").data(h).enter().append("g").attr("transform","translate("+l.legendxPosition+","+l.legendyPosition+")").attr("class","d3ChoroplethLegend");y.append("rect").attr("x",function(t,e){return"vertical"==l.legendOrientation?20:20*e}).attr("y",function(t,e){return"vertical"==l.legendOrientation?20*e:20}).attr("width",20).attr("height",20).style("fill",function(t,e){return p(t)}).style("opacity",.8),y.append("text").attr("x",function(t,e){return"vertical"==l.legendOrientation?50:null}).attr("y",function(t,e){return"vertical"==l.legendOrientation?20*e+15:null}).attr("transform",function(t,e){return"vertical"==l.legendOrientation?null:"translate("+20*e+" 50)rotate(45 0 0)"}).text(function(t,e){return v[e]})}},t.exports.d3Radar=function(t,e,n){function r(t,e){t.each(function(){for(var t,n=d3.select(this),r=n.text().split(/\s+/).reverse(),a=[],i=0,o=n.attr("y"),l=n.attr("x"),s=parseFloat(n.attr("dy")),u=n.text(null).append("tspan").attr("x",l).attr("y",o).attr("dy",s+"em");t=r.pop();)a.push(t),u.text(a.join(" ")),u.node().getComputedTextLength()>e&&(a.pop(),u.text(a.join(" ")),a=[t],u=n.append("tspan").attr("x",l).attr("y",o).attr("dy",1.4*++i+s+"em").text(t))})}function a(e){d3.selectAll(".radarArea").transition().duration(200).style("fill-opacity",.1),d3.select("."+t[e][0][d].replace(/\s+/g,"")).transition().duration(200).style("fill-opacity",.7)}function i(){d3.selectAll(".radarArea").transition().duration(200).style("fill-opacity",o.opacityArea)}var o={w:tgw.containerDims(e).wid,h:tgw.containerDims(e).hgt,margin:{top:20,right:20,bottom:20,left:20},legendPosition:{x:20,y:20},levels:3,maxValue:0,labelFactor:1.25,wrapWidth:60,opacityArea:.35,dotRadius:4,opacityCircles:.1,strokeWidth:2,roundStrokes:!1,color:d3.schemeCategory10,axisName:"reason",areaName:"device",value:"value",sortAreas:!0},l=JSON.parse(JSON.stringify(o.color)),s=d3.scaleOrdinal().range(l.slice(0,t.length)),u=Array.apply(null,Array(t.length)).map(function(t,e){return e});if(s.domain(u),o.color=d3.scaleOrdinal().range(o.color.slice(0,t.length)),void 0!==n)for(var c in n)void 0!==n[c]&&("color"==c?(l=JSON.parse(JSON.stringify(n[c])),s=d3.scaleOrdinal().range(l.slice(0,t.length)),u=Array.apply(null,Array(t.length)).map(function(t,e){return e}),s.domain(u),o[c]=d3.scaleOrdinal().range(n[c])):o[c]=n[c]);var f=o.axisName,d=o.areaName,p=o.value;t.forEach(function(t){t[p+"Average"]=d3.mean(t.values,function(t){return t[p]})}),t=t.sort(function(t,e){var t=t[p+"Average"],e=e[p+"Average"];return e-t}),t=t.map(function(t){return t.values});var g=Math.max(o.maxValue,d3.max(t,function(t){return d3.max(t.map(function(t){return t.value}))})),h=t[0].map(function(t,e){return t[f]}),v=h.length,y=Math.min(o.w/2,o.h/2),m=d3.format(".0%"),x=2*Math.PI/v,w=d3.scaleLinear().range([0,y]).domain([0,g]);d3.select("#"+e).select("svg").remove();var C=d3.select("#"+e).append("svg").attr("width",o.w+o.margin.left+o.margin.right).attr("height",o.h+o.margin.top+o.margin.bottom).attr("class","radar"+e),b=C.append("g").attr("transform","translate("+(o.w/2+o.margin.left)+","+(o.h/2+o.margin.top)+")"),M=b.append("defs").append("filter").attr("id","glow"),A=(M.append("feGaussianBlur").attr("stdDeviation","2.5").attr("result","coloredBlur"),M.append("feMerge")),k=(A.append("feMergeNode").attr("in","coloredBlur"),A.append("feMergeNode").attr("in","SourceGraphic"),b.append("g").attr("class","axisWrapper"));k.selectAll(".levels").data(d3.range(1,o.levels+1).reverse()).enter().append("circle").attr("class","gridCircle").attr("r",function(t,e){return y/o.levels*t}).style("fill","#CDCDCD").style("stroke","#CDCDCD").style("fill-opacity",o.opacityCircles).style("filter","url(#glow)"),k.selectAll(".axisLabel").data(d3.range(1,o.levels+1).reverse()).enter().append("text").attr("class","axisLabel").attr("x",4).attr("y",function(t){return-t*y/o.levels}).attr("dy","0.4em").style("font-size","10px").attr("fill","#737373").text(function(t,e){return m(g*t/o.levels)});var T=k.selectAll(".axis").data(h).enter().append("g").attr("class","axis");T.append("line").attr("x1",0).attr("y1",0).attr("x2",function(t,e){return w(1.1*g)*Math.cos(x*e-Math.PI/2)}).attr("y2",function(t,e){return w(1.1*g)*Math.sin(x*e-Math.PI/2)}).attr("class","line").style("stroke","white").style("stroke-width","2px"),T.append("text").attr("class","d3radarLegend").style("font-size","11px").attr("text-anchor","middle").attr("dy","0.35em").attr("x",function(t,e){return w(g*o.labelFactor)*Math.cos(x*e-Math.PI/2)}).attr("y",function(t,e){return w(g*o.labelFactor)*Math.sin(x*e-Math.PI/2)}).text(function(t){return t}).call(r,o.wrapWidth);var O=d3.radialLine().curve(d3.curveLinearClosed).radius(function(t){return w(t.value)}).angle(function(t,e){return e*x});o.roundStrokes&&O.curve(d3.curveCardinalClosed);var z=b.selectAll(".radarWrapper").data(t).enter().append("g").attr("class","radarWrapper");z.append("path").attr("class","radarArea").attr("d",function(t,e){return O(t)}).style("fill",function(t,e){return o.color(e)}).style("fill-opacity",o.opacityArea).on("mouseover",function(t,e){d3.selectAll(".radarArea").transition().duration(200).style("fill-opacity",.1),d3.select(this).transition().duration(200).style("fill-opacity",.7)}).on("mouseout",function(){d3.selectAll(".radarArea").transition().duration(200).style("fill-opacity",o.opacityArea)}),z.append("path").attr("class","radarStroke").attr("d",function(t,e){return O(t)}).style("stroke-width",o.strokeWidth+"px").style("stroke",function(t,e){return o.color(e)}).style("fill","none").style("filter","url(#glow)"),z.selectAll(".radarCircle").data(function(t,e){return t}).enter().append("circle").attr("class","radarCircle").attr("r",o.dotRadius).attr("cx",function(t,e){return w(t.value)*Math.cos(x*e-Math.PI/2)}).attr("cy",function(t,e){return w(t.value)*Math.sin(x*e-Math.PI/2)}).style("fill",function(t,e,n){return o.color(n)}).style("fill-opacity",.8),b.selectAll(".radarCircleWrapper").data(t).enter().append("g").attr("class","radarCircleWrapper").selectAll(".radarInvisibleCircle").data(function(t,e){return t}).enter().append("circle").attr("class","radarInvisibleCircle").attr("r",1.5*o.dotRadius).attr("cx",function(t,e){return w(t.value)*Math.cos(x*e-Math.PI/2)}).attr("cy",function(t,e){return w(t.value)*Math.sin(x*e-Math.PI/2)}).style("fill","none").style("pointer-events","all").on("mouseover",function(t,e){newX=parseFloat(d3.select(this).attr("cx"))-10,newY=parseFloat(d3.select(this).attr("cy"))-10,I.attr("x",newX).attr("y",newY).text(m(t.value)).transition().duration(200).style("opacity",1)}).on("mouseout",function(){I.transition().duration(200).style("opacity",0)});var I=b.append("text").attr("class","d3radartooltip").style("opacity",0);C.append("g").attr("class","legendOrdinal").attr("transform","translate("+o.legendPosition.x+","+o.legendPosition.y+")");var P=d3.legendColor().shape("circle").shapePadding(10).scale(s).labels(s.domain().map(function(e){return t[e][0][d]})).on("cellover",function(t){a(t)}).on("cellout",function(t){i()});C.select(".legendOrdinal").call(P)},t.exports.plotlyLine=function(t,e,n){traceConfigurations=[];for(var r in t){var a={};if(a.x=t[r].x,a.y=t[r].y,a.type="scatter",n)for(var i in n.config[r])a[i]=n.config[r][i];traceConfigurations.push(a)}Plotly.newPlot(e,traceConfigurations)},t.exports.plotlyScatter=function(t,e,n){traceConfigurations=[];for(var r in t){var a={};if(a.x=t[r].x,a.y=t[r].y,a.type="scatter",a.mode="markers",n)for(var i in n.config[r])a[i]=n.config[r][i];traceConfigurations.push(a)}Plotly.newPlot(e,traceConfigurations)},t.exports.plotlyBar=function(t,e,n){traceConfigurations=[];for(var r in t){var a={};if(a.x=t[r].x,a.y=t[r].y,a.type="bar",n)for(var i in n.config[r])a[i]=n.config[r][i];traceConfigurations.push(a)}Plotly.newPlot(e,traceConfigurations)},t.exports.plotlyStackBar=function(t,e,n){traceConfigurations=[];for(var r in t){var a={};if(a.x=t[r].x,a.y=t[r].y,a.type="bar",n)for(var i in n.config[r])a[i]=n.config[r][i];traceConfigurations.push(a)}var o={barmode:"stack"};Plotly.newPlot(e,traceConfigurations,o)},t.exports.plotlyArea=function(t,e,n){traceConfigurations=[];for(var r in t){var a={};if(a.x=t[r].x,a.y=t[r].y,a.type="scatter",a.fill="tozeroy",n)for(var i in n.config[r])"fill"!=i?a[i]=n.config[i]:a.fill=n.config[r][i];traceConfigurations.push(a)}Plotly.newPlot(e,traceConfigurations)},t.exports.plotlyBox=function(t,e,n){traceConfigurations=[];for(var r in t){var a={};if(a.y=t[r].y,a.type="box",n)for(var i in n.config[r])a[i]=n.config[i];traceConfigurations.push(a)}Plotly.newPlot(e,traceConfigurations)},t.exports.plotlyHeatMap=function(t,e,n){if(traceConfig=[{z:t.z,type:"heatmap"}],n)for(var r in n)traceConfig[0][r]=n[r];Plotly.newPlot(e,traceConfig)},t.exports.plotlyHistogram=function(t,e,n){if(traceConfig=[{x:t,type:"histogram"}],n)for(var r in n)traceConfig[0][r]=n[r];Plotly.newPlot(e,traceConfig)},t.exports.plotlyChoropleth=function(t,e,n){function r(t,e){return t.map(function(t){return t[e]})}n||console.error("options is required to render this chart"),n.config||console.error("The options parameter must contain a config object to render this chart."),n.config.fieldName||console.error("You must specify which field to use from your data."),traceConfig=[{z:r(t,n.config.fieldName),type:"choropleth",text:r(t,"state"),locationmode:"USA-states",locations:r(t,"code"),colorscale:[[0,"rgb(242,240,247)"],[.2,"rgb(218,218,235)"],[.4,"rgb(188,189,220)"],[.6,"rgb(158,154,200)"],[.8,"rgb(117,107,177)"],[1,"rgb(84,39,143)"]],colorbar:{thickness:.2},marker:{line:{color:"rgb(255,255,255)",width:2}}}],mapValues=[];for(var a in t)mapValues.push(t[a][n.config.fieldName]);traceConfig.zmin=Math.min.apply(null,mapValues),traceConfig.zmax=Math.max.apply(null,mapValues);for(var i in n.config)traceConfig[i]=n.config[i];var o={geo:{scope:"usa",showlakes:!0,lakecolor:"rgb(255,255,255)"}};if(n.layout)for(var i in n.layout)o[i]=n.layout[i];Plotly.plot(e,traceConfig,o)},t.exports.plotlyPolarScatter=function(t,e,n){traceConfigurations=[];for(var r in t){var a={marker:{color:"rgb(117,112,179)"}};if(a.r=t[r].r,a.t=t[r].t,a.type="scatter",a.mode="markers",n)for(var i in n.config[r])a[i]=n.config[r][i];traceConfigurations.push(a)}t.length<3&&traceConfigurations.push({r:[],t:[],name:" rr",type:"scatter",mode:"markers",showlegend:!1,opacity:0}),t.length<2&&traceConfigurations.push({r:[],t:[],name:" tt",type:"scatter",mode:"markers",showlegend:!1,opacity:0}),n?Plotly.newPlot(e,traceConfigurations,n.config):Plotly.newPlot(e,traceConfigurations)}}]);